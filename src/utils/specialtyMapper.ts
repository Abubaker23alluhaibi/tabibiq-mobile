// دالة لتحويل التخصصات من البيانات الخلفية إلى الأسماء العربية المعروضة
export const mapSpecialtyToArabic = (specialty: string | number | null | undefined): string => {
  if (!specialty) {
    return 'غير محدد';
  }

  // تحويل الرقم إلى نص إذا كان رقماً
  const specialtyStr = String(specialty).trim();

  // إذا كان فارغاً
  if (!specialtyStr || specialtyStr === '') {
    return 'غير محدد';
  }

  // قائمة التخصصات مع الترجمة العربية
  const specialtyMap: Record<string, string> = {
    // التخصصات الأساسية
    'general_medicine': 'طب عام',
    'cardiology': 'طب القلب',
    'pediatrics': 'طب الأطفال',
    'orthopedics': 'طب العظام',
    'neurology': 'طب الأعصاب',
    'dermatology': 'طب الجلد',
    'ophthalmology': 'طب العيون',
    'dentistry': 'طب الأسنان',
    'psychiatry': 'طب النفس',
    'gynecology': 'طب النساء',
    'urology': 'طب المسالك البولية',
    'gastroenterology': 'طب الجهاز الهضمي',
    'endocrinology': 'طب الغدد الصماء',
    'oncology': 'طب الأورام',
    'rheumatology': 'طب الروماتيزم',
    'pulmonology': 'طب الصدر',
    'nephrology': 'طب الكلى',
    'hematology': 'طب الدم',
    'immunology': 'طب المناعة',
    'infectious_diseases': 'الأمراض المعدية',
    'emergency_medicine': 'طب الطوارئ',
    'family_medicine': 'طب الأسرة',
    'internal_medicine': 'طب الباطنة',
    'surgery': 'الجراحة العامة',
    'plastic_surgery': 'جراحة التجميل',
    'neurosurgery': 'جراحة الأعصاب',
    'cardiothoracic_surgery': 'جراحة القلب والصدر',
    'vascular_surgery': 'جراحة الأوعية الدموية',
    'orthopedic_surgery': 'جراحة العظام',
    'pediatric_surgery': 'جراحة الأطفال',
    'urological_surgery': 'جراحة المسالك البولية',
    'gynecological_surgery': 'جراحة النساء',
    'maxillofacial_surgery': 'جراحة الفم والوجه والفكين',
    'anesthesiology': 'التخدير',
    'radiology': 'الأشعة',
    'pathology': 'علم الأمراض',
    'laboratory_medicine': 'طب المختبرات',
    'nuclear_medicine': 'الطب النووي',
    'physical_medicine': 'طب التأهيل',
    'sports_medicine': 'طب الرياضة',
    'occupational_medicine': 'طب العمل',
    'preventive_medicine': 'طب الوقاية',
    'geriatrics': 'طب المسنين',
    'palliative_care': 'الرعاية التلطيفية',

    // التخصصات بالأرقام (من قاعدة البيانات)
    '0': 'طب عام',
    '1': 'طب القلب',
    '2': 'طب الأطفال',
    '3': 'طب العظام',
    '4': 'طب الأعصاب',
    '5': 'طب الجلد',
    '6': 'طب العيون',
    '7': 'طب الأسنان',
    '8': 'طب النفس',
    '9': 'طب النساء',
    '10': 'طب المسالك البولية',
    '11': 'طب الجهاز الهضمي',
    '12': 'طب الغدد الصماء',
    '13': 'طب الأورام',
    '14': 'طب الروماتيزم',
    '15': 'طب الصدر',
    '16': 'طب الكلى',
    '17': 'طب الدم',
    '18': 'طب المناعة',
    '19': 'الأمراض المعدية',
    '20': 'طب الطوارئ',
    '21': 'طب الأسرة',
    '22': 'طب الباطنة',
    '23': 'الجراحة العامة',
    '24': 'جراحة التجميل',
    '25': 'جراحة الأعصاب',
    '26': 'جراحة القلب والصدر',
    '27': 'جراحة الأوعية الدموية',
    '28': 'جراحة العظام',
    '29': 'جراحة الأطفال',
    '30': 'جراحة المسالك البولية',
    '31': 'جراحة النساء',
    '32': 'جراحة الفم والوجه والفكين',
    '33': 'التخدير',
    '34': 'الأشعة',
    '35': 'علم الأمراض',
    '36': 'طب المختبرات',
    '37': 'الطب النووي',
    '38': 'طب التأهيل',
    '39': 'طب الرياضة',
    '40': 'طب العمل',
    '41': 'طب الوقاية',
    '42': 'طب المسنين',
    '43': 'الرعاية التلطيفية',

    // التخصصات باللغة العربية (إذا كانت موجودة بالفعل)
    'طب القلب': 'طب القلب',
    'طب الأطفال': 'طب الأطفال',
    'طب العظام': 'طب العظام',
    'طب الأعصاب': 'طب الأعصاب',
    'طب الجلد': 'طب الجلد',
    'طب العيون': 'طب العيون',
    'طب الأسنان': 'طب الأسنان',
    'طب النفس': 'طب النفس',
    'طب النساء': 'طب النساء',
    'طب المسالك البولية': 'طب المسالك البولية',
    'طب الجهاز الهضمي': 'طب الجهاز الهضمي',
    'طب الغدد الصماء': 'طب الغدد الصماء',
    'طب الأورام': 'طب الأورام',
    'طب الروماتيزم': 'طب الروماتيزم',
    'طب الصدر': 'طب الصدر',
    'طب الكلى': 'طب الكلى',
    'طب الدم': 'طب الدم',
    'طب المناعة': 'طب المناعة',
    'الأمراض المعدية': 'الأمراض المعدية',
    'طب الطوارئ': 'طب الطوارئ',
    'طب الأسرة': 'طب الأسرة',
    'طب الباطنة': 'طب الباطنة',
    'الجراحة العامة': 'الجراحة العامة',
    'جراحة التجميل': 'جراحة التجميل',
    'جراحة الأعصاب': 'جراحة الأعصاب',
    'جراحة القلب والصدر': 'جراحة القلب والصدر',
    'جراحة الأوعية الدموية': 'جراحة الأوعية الدموية',
    'جراحة العظام': 'جراحة العظام',
    'جراحة الأطفال': 'جراحة الأطفال',
    'جراحة المسالك البولية': 'جراحة المسالك البولية',
    'جراحة النساء': 'جراحة النساء',
    'جراحة الفم والوجه والفكين': 'جراحة الفم والوجه والفكين',
    'التخدير': 'التخدير',
    'الأشعة': 'الأشعة',
    'علم الأمراض': 'علم الأمراض',
    'طب المختبرات': 'طب المختبرات',
    'الطب النووي': 'الطب النووي',
    'طب التأهيل': 'طب التأهيل',
    'طب الرياضة': 'طب الرياضة',
    'طب العمل': 'طب العمل',
    'طب الوقاية': 'طب الوقاية',
    'طب المسنين': 'طب المسنين',
    'الرعاية التلطيفية': 'الرعاية التلطيفية',

    // التخصصات باللغة الكردية
    'دڵناسی': 'طب القلب',
    'منداڵناسی': 'طب الأطفال',
    'ئێسکناسی': 'طب العظام',
    'دەماری': 'طب الأعصاب',
    'پێستناسی': 'طب الجلد',
    'چاڤناسی': 'طب العيون',
    'ددانناسی': 'طب الأسنان',
    'دەروونناسی': 'طب النفس',
    'ژنانناسی': 'طب النساء',
    'میزڕێژناسی': 'طب المسالك البولية',
    'گەدە و ڕیخۆڵەناسی': 'طب الجهاز الهضمي',
    'دەرەقناسی': 'طب الغدد الصماء',
    'شێرپەنجەناسی': 'طب الأورام',
    'ڕیوومەتیزناسی': 'طب الروماتيزم',
    'سییەناسی': 'طب الصدر',
    'گورچیلەناسی': 'طب الكلى',
    'خوێنناسی': 'طب الدم',
    'بەرگریناسی': 'طب المناعة',
    'نەخۆشی بەرگرییەکان': 'الأمراض المعدية',
    'پزیشکی ناوچەپێویست': 'طب الطوارئ',
    'پزیشکی خێزان': 'طب الأسرة',
    'پزیشکی ناوەوە': 'طب الباطنة',
    'نەشتەرگەری گشتی': 'الجراحة العامة',
    'نەشتەرگەری جوانکاری': 'جراحة التجميل',
    'نەشتەرگەری دەمار': 'جراحة الأعصاب',
    'نەشتەرگەری دڵ و سییە': 'جراحة القلب والصدر',
    'نەشتەرگەری خوێنبەر': 'جراحة الأوعية الدموية',
    'نەشتەرگەری ئێسک': 'جراحة العظام',
    'نەشتەرگەری منداڵان': 'جراحة الأطفال',
    'نەشتەرگەری میزڕێژ': 'جراحة المسالك البولية',
    'نەشتەرگەری ژنان': 'جراحة النساء',
    'نەشتەرگەری دەم و دەموچاو': 'جراحة الفم والوجه والفكين',
    'بێهۆشکردن': 'التخدير',
    'تیشکناسی': 'الأشعة',
    'نەخۆشیناسی': 'علم الأمراض',
    'پزیشکی تاقیگە': 'طب المختبرات',
    'پزیشکی ئەتۆمی': 'الطب النووي',
    'پزیشکی جەستەیی': 'طب التأهيل',
    'پزیشکی وەرزش': 'طب الرياضة',
    'پزیشکی پیشەیی': 'طب العمل',
    'پزیشکی پاراستن': 'طب الوقاية',
    'پزیشکی بەتەمەن': 'طب المسنين',
    'چاودێری ئارامکردن': 'الرعاية التلطيفية',
  };

  // البحث عن التخصص في القائمة
  const mappedSpecialty = specialtyMap[specialtyStr.toLowerCase()];
  
  if (mappedSpecialty) {
    return mappedSpecialty;
  }

  // محاولة البحث بالرقم مباشرة
  const numericSpecialty = specialtyMap[specialtyStr];
  if (numericSpecialty) {
    return numericSpecialty;
  }

  // إذا كان الرقم غير معرف، حاول إرجاع تخصص افتراضي
  if (!isNaN(Number(specialtyStr))) {
    console.log(`⚠️ رقم تخصص غير معرف: "${specialtyStr}" - إرجاع تخصص افتراضي`);
    return 'طب عام';
  }

  // إذا لم يتم العثور على التخصص، إرجاع القيمة الأصلية مع تحسين
  console.log(`⚠️ تخصص غير معروف: "${specialtyStr}"`);
  return specialtyStr;
};

// دالة لتحويل التخصصات من العربية إلى الإنجليزية (للتسجيل)
export const mapSpecialtyToEnglish = (arabicSpecialty: string): string => {
  const reverseMap: Record<string, string> = {
    'طب القلب': 'cardiology',
    'طب الأطفال': 'pediatrics',
    'طب العظام': 'orthopedics',
    'طب الأعصاب': 'neurology',
    'طب الجلد': 'dermatology',
    'طب العيون': 'ophthalmology',
    'طب الأسنان': 'dentistry',
    'طب النفس': 'psychiatry',
    'طب النساء': 'gynecology',
    'طب المسالك البولية': 'urology',
    'طب الجهاز الهضمي': 'gastroenterology',
    'طب الغدد الصماء': 'endocrinology',
    'طب الأورام': 'oncology',
    'طب الروماتيزم': 'rheumatology',
    'طب الصدر': 'pulmonology',
    'طب الكلى': 'nephrology',
    'طب الدم': 'hematology',
    'طب المناعة': 'immunology',
    'الأمراض المعدية': 'infectious_diseases',
    'طب الطوارئ': 'emergency_medicine',
    'طب الأسرة': 'family_medicine',
    'طب الباطنة': 'internal_medicine',
    'الجراحة العامة': 'surgery',
    'جراحة التجميل': 'plastic_surgery',
    'جراحة الأعصاب': 'neurosurgery',
    'جراحة القلب والصدر': 'cardiothoracic_surgery',
    'جراحة الأوعية الدموية': 'vascular_surgery',
    'جراحة العظام': 'orthopedic_surgery',
    'جراحة الأطفال': 'pediatric_surgery',
    'جراحة المسالك البولية': 'urological_surgery',
    'جراحة النساء': 'gynecological_surgery',
    'جراحة الفم والوجه والفكين': 'maxillofacial_surgery',
    'التخدير': 'anesthesiology',
    'الأشعة': 'radiology',
    'علم الأمراض': 'pathology',
    'طب المختبرات': 'laboratory_medicine',
    'الطب النووي': 'nuclear_medicine',
    'طب التأهيل': 'physical_medicine',
    'طب الرياضة': 'sports_medicine',
    'طب العمل': 'occupational_medicine',
    'طب الوقاية': 'preventive_medicine',
    'طب المسنين': 'geriatrics',
    'الرعاية التلطيفية': 'palliative_care',
  };

  return reverseMap[arabicSpecialty] || arabicSpecialty;
};

// دالة للحصول على قائمة التخصصات العربية
export const getArabicSpecialties = (): string[] => {
  return [
    'طب عام',
    'طب القلب',
    'طب الأطفال',
    'طب العظام',
    'طب الأعصاب',
    'طب الجلد',
    'طب العيون',
    'طب الأسنان',
    'طب النفس',
    'طب النساء',
    'طب المسالك البولية',
    'طب الجهاز الهضمي',
    'طب الغدد الصماء',
    'طب الأورام',
    'طب الروماتيزم',
    'طب الصدر',
    'طب الكلى',
    'طب الدم',
    'طب المناعة',
    'الأمراض المعدية',
    'طب الطوارئ',
    'طب الأسرة',
    'طب الباطنة',
    'الجراحة العامة',
    'جراحة التجميل',
    'جراحة الأعصاب',
    'جراحة القلب والصدر',
    'جراحة الأوعية الدموية',
    'جراحة العظام',
    'جراحة الأطفال',
    'جراحة المسالك البولية',
    'جراحة النساء',
    'جراحة الفم والوجه والفكين',
    'التخدير',
    'الأشعة',
    'علم الأمراض',
    'طب المختبرات',
    'الطب النووي',
    'طب التأهيل',
    'طب الرياضة',
    'طب العمل',
    'طب الوقاية',
    'طب المسنين',
    'الرعاية التلطيفية',
  ];
};
